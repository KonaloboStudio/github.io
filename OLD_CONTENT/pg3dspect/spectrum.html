<!DOCTYPE html>
<html>
<head>
	<style>
		:root {
			color-scheme: dark light;
			font-family: Arial, sans-serif;
		}

		body {
			margin: 0;
			padding: 0;
			background-color: #121212;
			color: #ffffff;
		}

		#settings {
			display: flex;
			flex-direction: column;
			align-items: center;
			padding: 20px;
			background-color: #1f1f1f;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
		}

		figure {
			margin: 10px 0;
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		figcaption {
			font-size: 16px;
			margin-bottom: 5px;
		}

		input[type="file"],
		input[type="color"],
		input[type="number"],
		select {
			padding: 5px;
			border: 1px solid #ccc;
			border-radius: 5px;
			background-color: #1f1f1f;
			color: #ffffff;
		}

		input[type="range"] {
			width: 100%;
		}

		button {
			padding: 10px 20px;
			margin: 10px;
			border: none;
			border-radius: 5px;
			background-color: #007bff;
			color: #ffffff;
			cursor: pointer;
		}

		canvas {
			width: 100%;
			max-width: 800px;
			height: auto;
			background-size: cover;
			background-repeat: no-repeat;
			background-position: center;
			margin: 20px auto;
			display: block;
		}
	</style>
	<meta charset="utf-8">
	<style>:root{color-scheme: dark light; font-family: sans-serif;}</style>
	<title>Pixel Gun Music Spectrum</title>
</head>
<body>
	<div id="settings">
		<figure>
			<figcaption>Audio file</figcaption>
			<input id="fileinput" type="file" accept="audio/*" onchange="playAudio()">
		</figure>

		<figure>
			<figcaption>Background image</figcaption>
			<input id="bgInput" type="file" accept="image/*" onchange="changeBg()">
		</figure>

		<figure>
			<figcaption>Background video</figcaption>
			<input id="bgVideoInput" type="file" accept="video/*" onchange="changeBgVideo()">
		</figure>

		<figure>
			<figcaption>Gradient color</figcaption>
			<input id="gradientStartInput" type="color" value="#00FFFF" oninput="changeSettings()">
			<input id="gradientEndInput" type="color" value="#0000FF" oninput="changeSettings()">
		</figure>

		<figure>
			<figcaption>Gradient opacity</figcaption>
			<input id="opacityInput" type="range" value="255" min="0" max="255" step="1" oninput="changeSettings()">
		</figure>

		<div hidden>
			<figure>
				<figcaption>Smoothing time constant</figcaption>
				<input id="stcInput" type="number" step="0.01" value="0.5" max="1" min="0" oninput="changeSettings()">
			</figure>

			<figure>
				<figcaption>FFT Size</figcaption>
				<select id="fftInput" oninput="changeSettings()">
					<option value="32">32</option>
					<option value="64">64</option>
					<option value="128">128</option>
					<option value="256">256</option>
					<option value="512">512</option>
					<option value="1024">1024</option>
					<option value="2048">2048</option>
					<option value="4096">4096</option>
					<option value="8192" selected>8192</option>
					<option value="16384">16384</option>
					<option value="32768">32768</option>
				</select>
			</figure>

			<figure>
				<figcaption>Min dB</figcaption>
				<input id="minDbInput" type="number" value="-50" max="-31" oninput="changeSettings()">
			</figure>

			<figure>
				<figcaption>Smooth points</figcaption>
				<input id="smoothInput" type="number" value="2" min="0">
			</figure>

			<figure>
				<figcaption>End point</figcaption>
				<input id="endDataInput" type="number" value="64" min="21" >
			</figure>

		</div>

	</div>
	<img id="logoimg" src="logo.svg" hidden>
	<video id="bgVideo" hidden loop muted></video>
	<audio id="audioplayer" controls></audio>
	<button onclick="startVideo();">Start</button>
	<button onclick="stopVideo();">Stop</button>
	<button onclick="startRecording();">Start recording</button>
	<button onclick="stopRecording();">Stop recording</button>
	<button onclick="canvas.requestFullscreen(); showBlack = true">Fullscreen</button>
	<canvas id="output" width="1920" height="1080" onclick="startVideo()" style="height: 480px; background-size:cover; background-repeat:no-repeat; background-position: center;"></canvas>
	<script src="spectrum.js"></script>
	<div>
		<a href="https://github.com/y0lopix" target="_blank">
		  <button>Visit GitHub</button>
		</a>
	  </div>
	  
</body>
</html>
